[run]
source =
    _zkapauthorizer
    twisted.plugins.zkapauthorizer

branch = True
parallel = True

omit =
    # The Versioneer version file in the repository is generated by
    # Versioneer.  Let's call it Versioneer's responsibility to ensure it
    # works and not pay attention to our test suite's coverage of it.  Also,
    # the way Versioneer works is that the source file in the repository is
    # different from the source file in an installation - which is where we
    # measure coverage.  When the source files differ like this, it's very
    # difficult to produce a coherent coverage report (measurements against
    # one source file are meaningless when looking at a different source
    # file).
    src/_zkapauthorizer/_version.py

[paths]
source =
    src/
    /nix/store/*/lib/python*/site-packages/
    C:\hostedtoolcache\windows\Python\2.7.18\x64\Lib\site-packages\
